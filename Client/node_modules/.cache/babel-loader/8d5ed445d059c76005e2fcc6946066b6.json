{"ast":null,"code":"var _jsxFileName = \"/home/shreya/Documents/Vonage/Client/src/screens/Register.js\";\nimport React from 'react';\nimport Form from \"../components/Form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst registerFields = [{\n  label: \"Phone Number\",\n  type: \"number\"\n}];\nconst verifyFields = [{\n  label: \"Enter your 4 digit code\",\n  type: \"number\"\n}];\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onRegisterSubmit = event => {\n      event.preventDefault();\n      const phoneNumber = event.target.elements[0].value;\n      const resisterRequest = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          \"number\": phoneNumber,\n          \"brand\": \"ICT\"\n        })\n      };\n      fetch('http://localhost:3000/request', resisterRequest).then(res => res.json()).then(res => this.setState({\n        registerResponse: res\n      }));\n    };\n\n    this.onVerifySubmit = event => {\n      event.preventDefault();\n      const {\n        request_id\n      } = this.state.registerResponse;\n      const code = event.target.elements[0].value;\n      const verifyRequest = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          \"request_id\": request_id,\n          \"code\": code\n        })\n      };\n      fetch('http://localhost:3000/check', verifyRequest).then(res => res.json()).then(res => this.setState({\n        verifyResponse: res\n      }));\n    };\n\n    this.state = {\n      registerResponse: {},\n      verifyResponse: {}\n    };\n  }\n\n  render() {\n    const {\n      status\n    } = this.state.registerResponse;\n    console.log(\"registerResponse =======>\", this.state.registerResponse);\n    console.log(\"verifyResponse =======>\", this.state.verifyResponse);\n    return status === \"0\" ? /*#__PURE__*/_jsxDEV(Form, {\n      fields: verifyFields,\n      onSubmit: this.onVerifySubmit,\n      buttonLabel: \"Verify Me!\",\n      linkTo: \"/personal-details\",\n      apiResponse: this.state.verifyResponse\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Form, {\n      fields: registerFields,\n      onSubmit: this.onRegisterSubmit,\n      buttonLabel: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/shreya/Documents/Vonage/Client/src/screens/Register.js"],"names":["React","Form","registerFields","label","type","verifyFields","Login","Component","constructor","props","onRegisterSubmit","event","preventDefault","phoneNumber","target","elements","value","resisterRequest","method","headers","body","JSON","stringify","fetch","then","res","json","setState","registerResponse","onVerifySubmit","request_id","state","code","verifyRequest","verifyResponse","render","status","console","log"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Form from \"../components/Form\"\n\nconst registerFields = [\n    {\n        label: \"Phone Number\",\n        type: \"number\",\n    }\n]\n\nconst verifyFields = [\n    {\n        label: \"Enter your 4 digit code\",\n        type: \"number\",\n    }\n]\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            registerResponse : {},\n            verifyResponse : {}\n        };\n      }\n\n      onRegisterSubmit =(event) =>{\n        event.preventDefault()\n        const phoneNumber = event.target.elements[0].value;\n\n        const resisterRequest = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                \"number\" : phoneNumber,\n                \"brand\" : \"ICT\"\n            })\n        };       \n        \n\n        fetch('http://localhost:3000/request', resisterRequest)\n        .then(res => res.json())\n        .then(res => this.setState({ registerResponse: res }));\n    }\n\n    onVerifySubmit =(event) =>{\n        event.preventDefault()\n        const {request_id} = this.state.registerResponse;\n        const code = event.target.elements[0].value;\n\n        const verifyRequest = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                \"request_id\" : request_id,\n                \"code\" : code\n            })\n        };       \n        \n\n        fetch('http://localhost:3000/check', verifyRequest)\n        .then(res => res.json())\n        .then(res => this.setState({ verifyResponse: res }));\n    }\n\n    render() {\n        const {status} = this.state.registerResponse;\n        console.log(\"registerResponse =======>\" ,this.state.registerResponse );\n        console.log(\"verifyResponse =======>\" ,this.state.verifyResponse );\n        return (status === \"0\" ? \n        <Form  fields={verifyFields} onSubmit={this.onVerifySubmit} buttonLabel={\"Verify Me!\"} linkTo={\"/personal-details\"} apiResponse={this.state.verifyResponse}/> : \n        <Form  fields={registerFields} onSubmit={this.onRegisterSubmit} buttonLabel={\"Register\"} />\n        )\n    }\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}